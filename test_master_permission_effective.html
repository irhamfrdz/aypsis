<!DOCTYPE html>
<html lang="id">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Master Izin Efektif - Test</title>
        <script src="https://cdn.tailwindcss.com"></script>
        <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
        />
    </head>
    <body class="bg-gray-100">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8 py-8">
            <div class="bg-white rounded-lg shadow">
                <!-- Header -->
                <div class="px-6 py-4 border-b border-gray-200">
                    <div class="flex items-center justify-between">
                        <div>
                            <h1 class="text-2xl font-bold text-gray-900">
                                Master Izin Akses
                            </h1>
                            <p class="mt-1 text-sm text-gray-600">
                                Kelola izin akses sistem secara terpusat
                            </p>
                        </div>
                        <div class="flex space-x-3">
                            <button
                                onclick="syncPermissions()"
                                class="inline-flex items-center px-4 py-2 bg-blue-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-blue-700 active:bg-blue-900 focus:outline-none focus:border-blue-900 focus:ring ring-blue-300 disabled:opacity-25 transition ease-in-out duration-150"
                            >
                                <i class="fas fa-sync mr-2"></i>
                                Sinkronisasi
                            </button>
                            <button
                                class="inline-flex items-center px-4 py-2 bg-indigo-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-indigo-700 active:bg-indigo-900 focus:outline-none focus:border-indigo-900 focus:ring ring-indigo-300 disabled:opacity-25 transition ease-in-out duration-150"
                            >
                                <i class="fas fa-plus mr-2"></i>
                                Tambah Izin
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Alerts -->
                <div
                    class="mx-6 mt-4 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative"
                    role="alert"
                >
                    <span class="block sm:inline"
                        >Master izin berhasil dimuat dengan fitur lengkap!</span
                    >
                </div>

                <!-- Filters and Search -->
                <div class="px-6 py-4 border-b border-gray-200 bg-gray-50">
                    <div
                        class="flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-3 sm:space-y-0"
                    >
                        <div class="flex-1 max-w-lg">
                            <div class="relative">
                                <div
                                    class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"
                                >
                                    <i class="fas fa-search text-gray-400"></i>
                                </div>
                                <input
                                    type="text"
                                    id="searchPermissions"
                                    class="block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"
                                    placeholder="Cari nama izin atau deskripsi..."
                                />
                            </div>
                        </div>
                        <div class="flex items-center space-x-3">
                            <select
                                id="filterGroup"
                                class="block w-full pl-3 pr-10 py-2 text-base border border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md"
                            >
                                <option value="">Semua Grup</option>
                                <option value="user">User Management</option>
                                <option value="payment">Payment</option>
                                <option value="pranota">Pranota</option>
                                <option value="report">Report</option>
                                <option value="system">System</option>
                            </select>
                            <span class="text-sm text-gray-500">
                                Total: <span id="totalCount">5</span> izin
                            </span>
                        </div>
                    </div>
                </div>

                <div class="p-6">
                    <!-- Permission Table -->
                    <div class="overflow-x-auto">
                        <table class="min-w-full divide-y divide-gray-200">
                            <thead class="bg-gray-50">
                                <tr>
                                    <th
                                        class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
                                    >
                                        <input
                                            type="checkbox"
                                            id="selectAll"
                                            class="rounded border-gray-300 text-indigo-600 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"
                                        />
                                    </th>
                                    <th
                                        class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
                                    >
                                        No
                                    </th>
                                    <th
                                        class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
                                    >
                                        Nama Izin (Key)
                                    </th>
                                    <th
                                        class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
                                    >
                                        Deskripsi
                                    </th>
                                    <th
                                        class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
                                    >
                                        Grup
                                    </th>
                                    <th
                                        class="px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider"
                                    >
                                        Status
                                    </th>
                                    <th
                                        class="px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider"
                                    >
                                        Pengguna
                                    </th>
                                    <th
                                        class="px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider"
                                    >
                                        Aksi
                                    </th>
                                </tr>
                            </thead>
                            <tbody
                                class="bg-white divide-y divide-gray-200"
                                id="permissionsTableBody"
                            >
                                <!-- Sample Data -->
                                <tr
                                    class="hover:bg-gray-50 permission-row"
                                    data-permission-name="user.index"
                                    data-permission-group="user"
                                >
                                    <td class="px-6 py-4 whitespace-nowrap">
                                        <input
                                            type="checkbox"
                                            name="selected_permissions[]"
                                            value="1"
                                            class="permission-checkbox rounded border-gray-300 text-indigo-600 shadow-sm"
                                        />
                                    </td>
                                    <td
                                        class="px-6 py-4 whitespace-nowrap text-sm text-gray-900"
                                    >
                                        1
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap">
                                        <div class="flex items-center">
                                            <div class="flex-shrink-0">
                                                <i
                                                    class="fas fa-key text-gray-400"
                                                ></i>
                                            </div>
                                            <div class="ml-3">
                                                <div
                                                    class="text-sm font-medium text-gray-900 font-mono"
                                                >
                                                    user.index
                                                </div>
                                                <div
                                                    class="text-xs text-gray-500"
                                                >
                                                    Guard: web
                                                </div>
                                            </div>
                                        </div>
                                    </td>
                                    <td class="px-6 py-4">
                                        <div class="text-sm text-gray-900">
                                            Melihat daftar pengguna
                                        </div>
                                        <div class="text-xs text-gray-500">
                                            Dibuat: 02/09/2025 10:30
                                        </div>
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap">
                                        <span
                                            class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800"
                                            >User</span
                                        >
                                    </td>
                                    <td
                                        class="px-6 py-4 whitespace-nowrap text-center"
                                    >
                                        <span
                                            class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800"
                                        >
                                            <i
                                                class="fas fa-check-circle mr-1"
                                            ></i
                                            >Aktif
                                        </span>
                                    </td>
                                    <td
                                        class="px-6 py-4 whitespace-nowrap text-center"
                                    >
                                        <div class="text-sm text-gray-900">
                                            3 pengguna
                                        </div>
                                        <button
                                            onclick="showUsers(1)"
                                            class="text-xs text-indigo-600 hover:text-indigo-900"
                                        >
                                            Lihat detail
                                        </button>
                                    </td>
                                    <td
                                        class="px-6 py-4 whitespace-nowrap text-center"
                                    >
                                        <div
                                            class="flex items-center justify-center space-x-2"
                                        >
                                            <button
                                                class="inline-flex items-center px-3 py-1 bg-yellow-100 hover:bg-yellow-200 text-yellow-800 text-xs font-medium rounded-full transition-colors duration-200"
                                            >
                                                <i class="fas fa-edit mr-1"></i
                                                >Edit
                                            </button>
                                            <button
                                                onclick="assignToUsers(1)"
                                                class="inline-flex items-center px-3 py-1 bg-blue-100 hover:bg-blue-200 text-blue-800 text-xs font-medium rounded-full transition-colors duration-200"
                                            >
                                                <i class="fas fa-users mr-1"></i
                                                >Assign
                                            </button>
                                            <button
                                                class="inline-flex items-center px-3 py-1 bg-red-100 hover:bg-red-200 text-red-800 text-xs font-medium rounded-full transition-colors duration-200"
                                            >
                                                <i class="fas fa-trash mr-1"></i
                                                >Hapus
                                            </button>
                                        </div>
                                    </td>
                                </tr>

                                <tr
                                    class="hover:bg-gray-50 permission-row"
                                    data-permission-name="payment.create"
                                    data-permission-group="payment"
                                >
                                    <td class="px-6 py-4 whitespace-nowrap">
                                        <input
                                            type="checkbox"
                                            name="selected_permissions[]"
                                            value="2"
                                            class="permission-checkbox rounded border-gray-300 text-indigo-600 shadow-sm"
                                        />
                                    </td>
                                    <td
                                        class="px-6 py-4 whitespace-nowrap text-sm text-gray-900"
                                    >
                                        2
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap">
                                        <div class="flex items-center">
                                            <div class="flex-shrink-0">
                                                <i
                                                    class="fas fa-key text-gray-400"
                                                ></i>
                                            </div>
                                            <div class="ml-3">
                                                <div
                                                    class="text-sm font-medium text-gray-900 font-mono"
                                                >
                                                    payment.create
                                                </div>
                                                <div
                                                    class="text-xs text-gray-500"
                                                >
                                                    Guard: web
                                                </div>
                                            </div>
                                        </div>
                                    </td>
                                    <td class="px-6 py-4">
                                        <div class="text-sm text-gray-900">
                                            Membuat pembayaran baru
                                        </div>
                                        <div class="text-xs text-gray-500">
                                            Dibuat: 02/09/2025 10:35
                                        </div>
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap">
                                        <span
                                            class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800"
                                            >Payment</span
                                        >
                                    </td>
                                    <td
                                        class="px-6 py-4 whitespace-nowrap text-center"
                                    >
                                        <span
                                            class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800"
                                        >
                                            <i
                                                class="fas fa-check-circle mr-1"
                                            ></i
                                            >Aktif
                                        </span>
                                    </td>
                                    <td
                                        class="px-6 py-4 whitespace-nowrap text-center"
                                    >
                                        <div class="text-sm text-gray-900">
                                            2 pengguna
                                        </div>
                                        <button
                                            onclick="showUsers(2)"
                                            class="text-xs text-indigo-600 hover:text-indigo-900"
                                        >
                                            Lihat detail
                                        </button>
                                    </td>
                                    <td
                                        class="px-6 py-4 whitespace-nowrap text-center"
                                    >
                                        <div
                                            class="flex items-center justify-center space-x-2"
                                        >
                                            <button
                                                class="inline-flex items-center px-3 py-1 bg-yellow-100 hover:bg-yellow-200 text-yellow-800 text-xs font-medium rounded-full transition-colors duration-200"
                                            >
                                                <i class="fas fa-edit mr-1"></i
                                                >Edit
                                            </button>
                                            <button
                                                onclick="assignToUsers(2)"
                                                class="inline-flex items-center px-3 py-1 bg-blue-100 hover:bg-blue-200 text-blue-800 text-xs font-medium rounded-full transition-colors duration-200"
                                            >
                                                <i class="fas fa-users mr-1"></i
                                                >Assign
                                            </button>
                                            <button
                                                class="inline-flex items-center px-3 py-1 bg-red-100 hover:bg-red-200 text-red-800 text-xs font-medium rounded-full transition-colors duration-200"
                                            >
                                                <i class="fas fa-trash mr-1"></i
                                                >Hapus
                                            </button>
                                        </div>
                                    </td>
                                </tr>

                                <tr
                                    class="hover:bg-gray-50 permission-row"
                                    data-permission-name="pranota.approve"
                                    data-permission-group="pranota"
                                >
                                    <td class="px-6 py-4 whitespace-nowrap">
                                        <input
                                            type="checkbox"
                                            name="selected_permissions[]"
                                            value="3"
                                            class="permission-checkbox rounded border-gray-300 text-indigo-600 shadow-sm"
                                        />
                                    </td>
                                    <td
                                        class="px-6 py-4 whitespace-nowrap text-sm text-gray-900"
                                    >
                                        3
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap">
                                        <div class="flex items-center">
                                            <div class="flex-shrink-0">
                                                <i
                                                    class="fas fa-key text-gray-400"
                                                ></i>
                                            </div>
                                            <div class="ml-3">
                                                <div
                                                    class="text-sm font-medium text-gray-900 font-mono"
                                                >
                                                    pranota.approve
                                                </div>
                                                <div
                                                    class="text-xs text-gray-500"
                                                >
                                                    Guard: web
                                                </div>
                                            </div>
                                        </div>
                                    </td>
                                    <td class="px-6 py-4">
                                        <div class="text-sm text-gray-900">
                                            Menyetujui pranota
                                        </div>
                                        <div class="text-xs text-gray-500">
                                            Dibuat: 02/09/2025 10:40
                                        </div>
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap">
                                        <span
                                            class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800"
                                            >Pranota</span
                                        >
                                    </td>
                                    <td
                                        class="px-6 py-4 whitespace-nowrap text-center"
                                    >
                                        <span
                                            class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800"
                                        >
                                            <i
                                                class="fas fa-check-circle mr-1"
                                            ></i
                                            >Aktif
                                        </span>
                                    </td>
                                    <td
                                        class="px-6 py-4 whitespace-nowrap text-center"
                                    >
                                        <div class="text-sm text-gray-900">
                                            1 pengguna
                                        </div>
                                        <button
                                            onclick="showUsers(3)"
                                            class="text-xs text-indigo-600 hover:text-indigo-900"
                                        >
                                            Lihat detail
                                        </button>
                                    </td>
                                    <td
                                        class="px-6 py-4 whitespace-nowrap text-center"
                                    >
                                        <div
                                            class="flex items-center justify-center space-x-2"
                                        >
                                            <button
                                                class="inline-flex items-center px-3 py-1 bg-yellow-100 hover:bg-yellow-200 text-yellow-800 text-xs font-medium rounded-full transition-colors duration-200"
                                            >
                                                <i class="fas fa-edit mr-1"></i
                                                >Edit
                                            </button>
                                            <button
                                                onclick="assignToUsers(3)"
                                                class="inline-flex items-center px-3 py-1 bg-blue-100 hover:bg-blue-200 text-blue-800 text-xs font-medium rounded-full transition-colors duration-200"
                                            >
                                                <i class="fas fa-users mr-1"></i
                                                >Assign
                                            </button>
                                            <button
                                                class="inline-flex items-center px-3 py-1 bg-red-100 hover:bg-red-200 text-red-800 text-xs font-medium rounded-full transition-colors duration-200"
                                            >
                                                <i class="fas fa-trash mr-1"></i
                                                >Hapus
                                            </button>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <!-- Bulk Actions -->
                    <div
                        id="bulkActions"
                        class="px-6 py-3 bg-gray-50 border-t border-gray-200 hidden"
                    >
                        <div class="flex items-center justify-between">
                            <div class="flex items-center">
                                <span class="text-sm text-gray-700">
                                    <span id="selectedCount">0</span> izin
                                    dipilih
                                </span>
                            </div>
                            <div class="flex items-center space-x-3">
                                <button
                                    onclick="bulkAssign()"
                                    class="inline-flex items-center px-3 py-1 bg-blue-600 text-white text-sm rounded-md hover:bg-blue-700"
                                >
                                    <i class="fas fa-users mr-1"></i>
                                    Assign ke Pengguna
                                </button>
                                <button
                                    onclick="bulkDelete()"
                                    class="inline-flex items-center px-3 py-1 bg-red-600 text-white text-sm rounded-md hover:bg-red-700"
                                >
                                    <i class="fas fa-trash mr-1"></i>
                                    Hapus Terpilih
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Features Overview -->
            <div class="mt-8 bg-white rounded-lg shadow p-6">
                <h2 class="text-xl font-bold text-gray-900 mb-4">
                    ✨ Fitur Master Izin Efektif
                </h2>

                <div
                    class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"
                >
                    <div
                        class="bg-blue-50 border border-blue-200 rounded-lg p-4"
                    >
                        <h3 class="font-medium text-blue-900 mb-2">
                            🔍 Pencarian & Filter
                        </h3>
                        <ul class="text-sm text-blue-800 space-y-1">
                            <li>• Pencarian real-time</li>
                            <li>• Filter berdasarkan grup</li>
                            <li>• Penghitungan otomatis</li>
                        </ul>
                    </div>

                    <div
                        class="bg-green-50 border border-green-200 rounded-lg p-4"
                    >
                        <h3 class="font-medium text-green-900 mb-2">
                            ⚡ Bulk Operations
                        </h3>
                        <ul class="text-sm text-green-800 space-y-1">
                            <li>• Select all/individual</li>
                            <li>• Bulk assignment</li>
                            <li>• Bulk delete</li>
                        </ul>
                    </div>

                    <div
                        class="bg-purple-50 border border-purple-200 rounded-lg p-4"
                    >
                        <h3 class="font-medium text-purple-900 mb-2">
                            🎯 Management
                        </h3>
                        <ul class="text-sm text-purple-800 space-y-1">
                            <li>• User assignment</li>
                            <li>• Permission sync</li>
                            <li>• Group categorization</li>
                        </ul>
                    </div>

                    <div
                        class="bg-yellow-50 border border-yellow-200 rounded-lg p-4"
                    >
                        <h3 class="font-medium text-yellow-900 mb-2">
                            📊 Monitoring
                        </h3>
                        <ul class="text-sm text-yellow-800 space-y-1">
                            <li>• User count per permission</li>
                            <li>• Status tracking</li>
                            <li>• Creation timestamps</li>
                        </ul>
                    </div>

                    <div class="bg-red-50 border border-red-200 rounded-lg p-4">
                        <h3 class="font-medium text-red-900 mb-2">
                            🛡️ Security
                        </h3>
                        <ul class="text-sm text-red-800 space-y-1">
                            <li>• Guard protection</li>
                            <li>• Confirmation dialogs</li>
                            <li>• Safe delete operations</li>
                        </ul>
                    </div>

                    <div
                        class="bg-gray-50 border border-gray-200 rounded-lg p-4"
                    >
                        <h3 class="font-medium text-gray-900 mb-2">🎨 UI/UX</h3>
                        <ul class="text-sm text-gray-800 space-y-1">
                            <li>• Modern design</li>
                            <li>• Responsive layout</li>
                            <li>• Intuitive interactions</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- Scripts -->
        <script>
            // Demo functionality
            document.addEventListener("DOMContentLoaded", function () {
                const selectAll = document.getElementById("selectAll");
                const permissionCheckboxes = document.querySelectorAll(
                    ".permission-checkbox"
                );
                const bulkActions = document.getElementById("bulkActions");
                const selectedCount = document.getElementById("selectedCount");
                const searchInput =
                    document.getElementById("searchPermissions");
                const filterGroup = document.getElementById("filterGroup");

                function updateBulkActions() {
                    const checked = document.querySelectorAll(
                        ".permission-checkbox:checked"
                    ).length;
                    selectedCount.textContent = checked;

                    if (checked > 0) {
                        bulkActions.classList.remove("hidden");
                    } else {
                        bulkActions.classList.add("hidden");
                    }
                }

                selectAll.addEventListener("change", function () {
                    permissionCheckboxes.forEach((checkbox) => {
                        checkbox.checked = this.checked;
                    });
                    updateBulkActions();
                });

                permissionCheckboxes.forEach((checkbox) => {
                    checkbox.addEventListener("change", updateBulkActions);
                });

                // Search functionality
                searchInput.addEventListener("input", function () {
                    const searchTerm = this.value.toLowerCase();
                    const rows = document.querySelectorAll(".permission-row");

                    rows.forEach((row) => {
                        const text = row.textContent.toLowerCase();
                        if (text.includes(searchTerm)) {
                            row.style.display = "";
                        } else {
                            row.style.display = "none";
                        }
                    });
                });
            });

            function syncPermissions() {
                alert(
                    "Fitur sinkronisasi akan mencocokkan izin dengan kode aplikasi"
                );
            }

            function assignToUsers(id) {
                alert(
                    "Modal assignment akan muncul untuk permission ID: " + id
                );
            }

            function showUsers(id) {
                alert(
                    "Menampilkan pengguna yang memiliki permission ID: " + id
                );
            }

            function bulkAssign() {
                alert("Bulk assignment untuk izin terpilih");
            }

            function bulkDelete() {
                if (confirm("Hapus semua izin yang dipilih?")) {
                    alert("Izin terpilih akan dihapus");
                }
            }
        </script>
    </body>
</html>
