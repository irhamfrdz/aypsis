<!DOCTYPE html>
<html>
    <head>
        <title>Test Popup Pranota</title>
        <script src="https://cdn.tailwindcss.com"></script>
    </head>
    <body class="bg-gray-100 p-8">
        <h1 class="text-2xl font-bold mb-4">Test Popup Pranota</h1>

        <div class="space-y-4">
            <button
                onclick="testSinglePranota()"
                class="bg-blue-500 text-white px-4 py-2 rounded"
            >
                Test Single Pranota
            </button>

            <button
                onclick="testBulkPranota()"
                class="bg-green-500 text-white px-4 py-2 rounded"
            >
                Test Bulk Pranota
            </button>
        </div>

        <!-- Modal -->
        <div
            id="pranotaModal"
            class="fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50 hidden"
        >
            <div
                class="relative top-20 mx-auto p-5 border w-11/12 max-w-2xl shadow-lg rounded-md bg-white"
            >
                <div class="mt-3">
                    <h3
                        class="text-lg font-medium text-gray-900"
                        id="modal-title"
                    >
                        Test Modal
                    </h3>
                    <p class="mt-2 text-sm text-gray-600">
                        Modal berhasil dibuka!
                    </p>
                    <button
                        onclick="closeModal()"
                        class="mt-4 bg-gray-500 text-white px-4 py-2 rounded"
                    >
                        Tutup
                    </button>
                </div>
            </div>
        </div>

        <script>
            window.openModal = function (type, ids, data) {
                console.log("openModal called:", { type, ids, data });

                const modal = document.getElementById("pranotaModal");
                const modalTitle = document.getElementById("modal-title");

                if (!modal) {
                    console.error("Modal element not found!");
                    return;
                }

                modalTitle.textContent = `Test ${type} Pranota - IDs: ${ids.join(
                    ", "
                )}`;

                modal.classList.remove("hidden");
                document.body.style.overflow = "hidden";
            };

            window.closeModal = function () {
                const modal = document.getElementById("pranotaModal");
                modal.classList.add("hidden");
                document.body.style.overflow = "auto";
            };

            function testSinglePranota() {
                openModal("single", [123], {
                    containers: ["TEST-123"],
                    vendors: ["ZONA"],
                    periodes: ["September 2025"],
                    totals: ["Rp 1.000.000"],
                });
            }

            function testBulkPranota() {
                openModal("bulk", [123, 456], {
                    containers: ["TEST-123", "TEST-456"],
                    vendors: ["ZONA", "DPE"],
                    periodes: ["September 2025", "September 2025"],
                    totals: ["Rp 1.000.000", "Rp 2.000.000"],
                });
            }
        </script>
    </body>
</html>
