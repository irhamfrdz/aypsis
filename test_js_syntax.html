<!DOCTYPE html>
<html>
    <head>
        <title>Test JavaScript Syntax</title>
    </head>
    <body>
        <h1>Testing JavaScript Syntax for Family Members</h1>
        <div id="test-result"></div>

        <script>
            // Test the JavaScript syntax from the create form
            try {
                // Function to create family member form
                function createFamilyMemberForm(index) {
                    const relationshipOptions = [
                        { value: "Suami", text: "Suami" },
                        { value: "Istri", text: "Istri" },
                        { value: "Anak", text: "Anak" },
                        { value: "Ayah", text: "Ayah" },
                        { value: "Ibu", text: "Ibu" },
                        { value: "Kakak", text: "Kakak" },
                        { value: "Adik", text: "Adik" },
                        { value: "Kakek", text: "Kakek" },
                        { value: "Nenek", text: "Nenek" },
                        { value: "Paman", text: "Paman" },
                        { value: "Bibi", text: "Bibi" },
                        { value: "Lainnya", text: "Lainnya" },
                    ];

                    const relationshipOptionsHtml = relationshipOptions
                        .map(
                            (option) =>
                                `<option value="${option.value}">${option.text}</option>`
                        )
                        .join("");

                    return `
                    <tr class="family-member-row" data-index="${index}">
                        <td class="border border-gray-300 px-2 py-2">
                            <select name="family_members[${index}][hubungan]" class="w-full rounded border-gray-300 text-xs p-1" required>
                                <option value="">-- Pilih --</option>
                                ${relationshipOptionsHtml}
                            </select>
                        </td>
                        <td class="border border-gray-300 px-2 py-2">
                            <input type="text" name="family_members[${index}][nama]" class="w-full rounded border-gray-300 text-xs p-1" placeholder="Nama lengkap" required>
                        </td>
                        <td class="border border-gray-300 px-2 py-2">
                            <input type="date" name="family_members[${index}][tanggal_lahir]" class="w-full rounded border-gray-300 text-xs p-1">
                        </td>
                        <td class="border border-gray-300 px-2 py-2">
                            <input type="text" name="family_members[${index}][alamat]" class="w-full rounded border-gray-300 text-xs p-1" placeholder="Alamat">
                        </td>
                        <td class="border border-gray-300 px-2 py-2">
                            <input type="tel" name="family_members[${index}][no_telepon]" class="w-full rounded border-gray-300 text-xs p-1" placeholder="No. Telp">
                        </td>
                        <td class="border border-gray-300 px-2 py-2">
                            <input type="text" name="family_members[${index}][nik_ktp]" class="w-full rounded border-gray-300 text-xs p-1" placeholder="16 digit NIK" maxlength="16" pattern="[0-9]{16}">
                        </td>
                        <td class="border border-gray-300 px-2 py-2">
                            <input type="text" name="family_members[${index}][no_bpjs_kesehatan]" class="w-full rounded border-gray-300 text-xs p-1" placeholder="No. BPJS">
                        </td>
                        <td class="border border-gray-300 px-2 py-2">
                            <input type="text" name="family_members[${index}][faskes]" class="w-full rounded border-gray-300 text-xs p-1" placeholder="Faskes">
                        </td>
                        <td class="border border-gray-300 px-2 py-2 text-center">
                            <button type="button" class="remove-family-member text-red-600 hover:text-red-800 font-medium text-xs px-2 py-1 border border-red-300 rounded hover:bg-red-50">
                                Hapus
                            </button>
                        </td>
                    </tr>
                `;
                }

                // Test function
                const testResult = createFamilyMemberForm(0);
                console.log("✅ JavaScript syntax is valid!");
                console.log("Generated HTML:", testResult);

                document.getElementById("test-result").innerHTML = `
                <p style="color: green; font-weight: bold;">✅ JavaScript syntax is VALID!</p>
                <p>The createFamilyMemberForm function works correctly.</p>
                <details>
                    <summary>Generated HTML Preview:</summary>
                    <pre style="background: #f5f5f5; padding: 10px; border-radius: 5px; overflow-x: auto;">${testResult
                        .replace(/</g, "&lt;")
                        .replace(/>/g, "&gt;")}</pre>
                </details>
            `;
            } catch (error) {
                console.error("❌ JavaScript syntax error:", error);
                document.getElementById("test-result").innerHTML = `
                <p style="color: red; font-weight: bold;">❌ JavaScript syntax ERROR!</p>
                <p>Error: ${error.message}</p>
            `;
            }
        </script>
    </body>
</html>
